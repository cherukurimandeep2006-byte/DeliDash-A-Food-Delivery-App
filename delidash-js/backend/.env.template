# ========================================
# DeliDash Backend Environment Variables
# ========================================

# Server Configuration
PORT=5000
NODE_ENV=development

# JWT Secret (Change this in production!)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_12345

# ========================================
# MongoDB Configuration - Choose ONE option below
# ========================================

# OPTION 1: MongoDB Atlas (Cloud) - RECOMMENDED
# Get your connection string from: https://cloud.mongodb.com
# Steps:
# 1. Login to MongoDB Atlas
# 2. Click "Connect" on your cluster
# 3. Choose "Connect your application"
# 4. Copy the connection string
# 5. Replace <password> with your actual password
# 6. Add /delidash after .net and before the ?
#
# Format: mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/delidash?retryWrites=true&w=majority
#
MONGODB_URI=mongodb+srv://hiteshkatta7_db_user:hitesh2005@cluster0.i3b3yq5.mongodb.net/delidash?retryWrites=true&w=majority&appName=Cluster0

# OPTION 2: Local MongoDB (if you have MongoDB installed locally)
# Uncomment the line below and comment out the Atlas URI above
# Make sure MongoDB is running: 
#   - Windows: MongoDB should start automatically as a service
#   - Linux: sudo systemctl start mongodb
#   - Mac: brew services start mongodb-community
#
# MONGODB_URI=mongodb://localhost:27017/delidash

# OPTION 3: MongoDB Atlas - Standard Connection String (if SRV fails)
# Use this if you get DNS/ECONNREFUSED errors with the SRV format
# Get this from MongoDB Atlas → Connect → Connect your application → Select "Standard connection string"
#
# MONGODB_URI=mongodb://username:password@host1:27017,host2:27017,host3:27017/delidash?ssl=true&replicaSet=atlas-xxxxx-shard-0&authSource=admin&retryWrites=true&w=majority

# ========================================
# Troubleshooting MongoDB Connection Issues
# ========================================
#
# Error: "querySrv ECONNREFUSED"
# Solution: 
#   1. Check if your MongoDB cluster is running in Atlas
#   2. Verify your IP is whitelisted (Network Access in Atlas)
#   3. Try using local MongoDB (Option 2 above)
#   4. Get a fresh connection string from Atlas
#
# Error: "Authentication failed"
# Solution:
#   1. Check username and password are correct
#   2. Verify database user exists in Atlas (Database Access)
#   3. Make sure user has "Read and write to any database" privilege
#
# Error: "IP not whitelisted"
# Solution:
#   1. Go to MongoDB Atlas → Network Access
#   2. Click "Add IP Address"
#   3. Add your current IP or allow all (0.0.0.0/0) for development
#
# For more help, see: MONGODB_CONNECTION_FIX.md
